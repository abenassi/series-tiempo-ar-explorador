(function(a){window.anchor={settings:{transitionDuration:2e3,transitionTimingFunction:'swing',labels:{error:'Couldn\'t find any section'}},init:function(b){return a(this).data('settings',a.extend(anchor.settings,b)),this.each(function(){var b=a(this);b.unbind('click').click(function(a){a.preventDefault(),anchor.jumpTo(anchor.getTopOffsetPosition(b),b.data('settings'))})})},getTopOffsetPosition:function(b){var c=b.attr('href'),d=a(a(c).get(0)),e=a(document).height(),f=a(window).height();if(!d||1>d.length)throw new ReferenceError(anchor.settings.labels.error);return d.offset().top+f>e?e-f:d.offset().top},jumpTo:function(b,c){var d=a('html, body');d.animate({scrollTop:b},c.transitionDuration,c.transitionTimingFunction),d.bind('scroll mousedown DOMMouseScroll mousewheel keyup',function(a){(0<a.which||'mousedown'===a.type||'mousewheel'===a.type)&&d.stop().unbind('scroll mousedown DOMMouseScroll mousewheel keyup')})}},a.fn.anchor=function(b){return anchor[b]?anchor[b].apply(this,Array.prototype.slice.call(arguments,1)):'object'!=typeof b&&b?a.error('Method '+b+' does not exist on jQuery.anchor'):anchor.init.apply(this,arguments)}})(jQuery),!function(){function a(a){if(null===a||'object'!=typeof a)return a;var b=a.constructor();for(var c in a)a.hasOwnProperty(c)&&(b[c]=a[c]);return b}var b=Math.floor,g=Math.sqrt,c=function(a){var b=new c.Index;return b.pipeline.add(c.trimmer,c.stopWordFilter,c.stemmer),a&&a.call(b,b),b};c.version='0.9.5',lunr=c,c.utils={},c.utils.warn=function(a){return function(b){a.console&&console.warn&&console.warn(b)}}(this),c.utils.toString=function(a){return void 0===a||null===a?'':a.toString()},c.EventEmitter=function(){this.events={}},c.EventEmitter.prototype.addListener=function(){var a=Array.prototype.slice.call(arguments),b=a.pop();if('function'!=typeof b)throw new TypeError('last argument must be a function');a.forEach(function(a){this.hasHandler(a)||(this.events[a]=[]),this.events[a].push(b)},this)},c.EventEmitter.prototype.removeListener=function(a,b){if(this.hasHandler(a)){var c=this.events[a].indexOf(b);-1!==c&&(this.events[a].splice(c,1),0==this.events[a].length&&delete this.events[a])}},c.EventEmitter.prototype.emit=function(a){if(this.hasHandler(a)){var b=Array.prototype.slice.call(arguments,1);this.events[a].forEach(function(a){a.apply(void 0,b)},this)}},c.EventEmitter.prototype.hasHandler=function(a){return a in this.events},c.tokenizer=function(a){if(!arguments.length||null===a||void 0===a)return[];if(Array.isArray(a)){var b=a.filter(function(a){return null===a||void 0===a?!1:!0});b=b.map(function(a){return c.utils.toString(a).toLowerCase()});var d=[];return b.forEach(function(a){var b=a.split(c.tokenizer.seperator);d=d.concat(b)},this),d}return a.toString().trim().toLowerCase().split(c.tokenizer.seperator)},c.tokenizer.defaultSeperator=/[\s\-]+/,c.tokenizer.seperator=c.tokenizer.defaultSeperator,c.tokenizer.setSeperator=function(a){null!==a&&void 0!==a&&'object'==typeof a&&(c.tokenizer.seperator=a)},c.tokenizer.resetSeperator=function(){c.tokenizer.seperator=c.tokenizer.defaultSeperator},c.tokenizer.getSeperator=function(){return c.tokenizer.seperator},c.Pipeline=function(){this._queue=[]},c.Pipeline.registeredFunctions={},c.Pipeline.registerFunction=function(a,b){b in c.Pipeline.registeredFunctions&&c.utils.warn('Overwriting existing registered function: '+b),a.label=b,c.Pipeline.registeredFunctions[b]=a},c.Pipeline.getRegisteredFunction=function(a){return!0==a in c.Pipeline.registeredFunctions?c.Pipeline.registeredFunctions[a]:null},c.Pipeline.warnIfFunctionNotRegistered=function(a){var b=a.label&&a.label in this.registeredFunctions;b||c.utils.warn('Function is not registered with pipeline. This may cause problems when serialising the index.\n',a)},c.Pipeline.load=function(a){var b=new c.Pipeline;return a.forEach(function(a){var d=c.Pipeline.getRegisteredFunction(a);if(!d)throw new Error('Cannot load un-registered function: '+a);b.add(d)}),b},c.Pipeline.prototype.add=function(){var a=Array.prototype.slice.call(arguments);a.forEach(function(a){c.Pipeline.warnIfFunctionNotRegistered(a),this._queue.push(a)},this)},c.Pipeline.prototype.after=function(a,b){c.Pipeline.warnIfFunctionNotRegistered(b);var d=this._queue.indexOf(a);if(-1===d)throw new Error('Cannot find existingFn');this._queue.splice(d+1,0,b)},c.Pipeline.prototype.before=function(a,b){c.Pipeline.warnIfFunctionNotRegistered(b);var d=this._queue.indexOf(a);if(-1===d)throw new Error('Cannot find existingFn');this._queue.splice(d,0,b)},c.Pipeline.prototype.remove=function(a){var b=this._queue.indexOf(a);-1!==b&&this._queue.splice(b,1)},c.Pipeline.prototype.run=function(a){for(var b=[],c=a.length,d=this._queue.length,e=0;c>e;e++){for(var f=a[e],g=0;d>g&&(f=this._queue[g](f,e,a),void 0!==f&&null!==f);g++);void 0!==f&&null!==f&&b.push(f)}return b},c.Pipeline.prototype.reset=function(){this._queue=[]},c.Pipeline.prototype.get=function(){return this._queue},c.Pipeline.prototype.toJSON=function(){return this._queue.map(function(a){return c.Pipeline.warnIfFunctionNotRegistered(a),a.label})},c.Index=function(){this._fields=[],this._ref='id',this.pipeline=new c.Pipeline,this.documentStore=new c.DocumentStore,this.index={},this.eventEmitter=new c.EventEmitter,this._idfCache={},this.on('add','remove','update',function(){this._idfCache={}}.bind(this))},c.Index.prototype.on=function(){var a=Array.prototype.slice.call(arguments);return this.eventEmitter.addListener.apply(this.eventEmitter,a)},c.Index.prototype.off=function(a,b){return this.eventEmitter.removeListener(a,b)},c.Index.load=function(a){a.version!==c.version&&c.utils.warn('version mismatch: current '+c.version+' importing '+a.version);var b=new this;for(var d in b._fields=a.fields,b._ref=a.ref,b.documentStore=c.DocumentStore.load(a.documentStore),b.pipeline=c.Pipeline.load(a.pipeline),b.index={},a.index)b.index[d]=c.InvertedIndex.load(a.index[d]);return b},c.Index.prototype.addField=function(a){return this._fields.push(a),this.index[a]=new c.InvertedIndex,this},c.Index.prototype.setRef=function(a){return this._ref=a,this},c.Index.prototype.saveDocument=function(a){return this.documentStore=new c.DocumentStore(a),this},c.Index.prototype.addDoc=function(a,b){if(a){var b=!(void 0!==b)||b,d=a[this._ref];this.documentStore.addDoc(d,a),this._fields.forEach(function(b){var e=this.pipeline.run(c.tokenizer(a[b]));this.documentStore.addFieldLength(d,b,e.length);var f={};for(var h in e.forEach(function(a){a in f?f[a]+=1:f[a]=1},this),f){var j=f[h];j=g(j),this.index[b].addToken(h,{ref:d,tf:j})}},this),b&&this.eventEmitter.emit('add',a,this)}},c.Index.prototype.removeDocByRef=function(a){if(a&&!1!==this.documentStore.isDocStored()&&this.documentStore.hasDoc(a)){var b=this.documentStore.getDoc(a);this.removeDoc(b,!1)}},c.Index.prototype.removeDoc=function(a,b){if(a){var b=!(void 0!==b)||b,d=a[this._ref];this.documentStore.hasDoc(d)&&(this.documentStore.removeDoc(d),this._fields.forEach(function(b){var e=this.pipeline.run(c.tokenizer(a[b]));e.forEach(function(a){this.index[b].removeToken(a,d)},this)},this),b&&this.eventEmitter.emit('remove',a,this))}},c.Index.prototype.updateDoc=function(a,b){var b=!(void 0!==b)||b;this.removeDocByRef(a[this._ref],!1),this.addDoc(a,!1),b&&this.eventEmitter.emit('update',a,this)},c.Index.prototype.idf=function(a,b){var c='@'+b+'/'+a;if(Object.prototype.hasOwnProperty.call(this._idfCache,c))return this._idfCache[c];var d=this.index[b].getDocFreq(a),e=1+Math.log(this.documentStore.length/(d+1));return this._idfCache[c]=e,e},c.Index.prototype.getFields=function(){return this._fields.slice()},c.Index.prototype.search=function(b,j){if(!b)return[];b='string'==typeof b?{any:b}:JSON.parse(JSON.stringify(b));var k=null;null!=j&&(k=JSON.stringify(j));for(var i,a=new c.Configuration(k,this.getFields()).get(),m={},n=Object.keys(b),o=0;o<n.length;o++)i=n[o],m[i]=this.pipeline.run(c.tokenizer(b[i]));var q={};for(var l in a){var r=m[l]||m.any;if(r){var d=this.fieldSearch(r,l,a),f=a[l].boost;for(var h in d)d[h]*=f;for(var h in d)h in q?q[h]+=d[h]:q[h]=d[h]}}var s,t=[];for(var h in q)s={ref:h,score:q[h]},this.documentStore.hasDoc(h)&&(s.doc=this.documentStore.getDoc(h)),t.push(s);return t.sort(function(a,b){return b.score-a.score}),t},c.Index.prototype.fieldSearch=function(a,b,c){var j=c[b].bool,d=c[b].expand,e=c[b].boost,i=null,k={};return 0===e?void 0:(a.forEach(function(l){var a=[l];1==d&&(a=this.index[b].expandToken(l));var e={};a.forEach(function(m){var n=this.index[b].getDocs(m),o=this.idf(m,b);if(i&&'AND'==j){var a={};for(var q in i)q in n&&(a[q]=n[q]);n=a}for(var q in m==l&&this.fieldSearchStats(k,m,n),n){var c=this.index[b].getTermFrequency(m,q),d=this.documentStore.getFieldLength(q,b),f=1;0!=d&&(f=1/g(d));var h=1;m!=l&&(h=.15*(1-(m.length-l.length)/m.length));var p=c*o*f*h;q in e?e[q]+=p:e[q]=p}},this),i=this.mergeScores(i,e,j)},this),i=this.coordNorm(i,k,a.length))},c.Index.prototype.mergeScores=function(a,b,c){if(!a)return b;if('AND'==c){var d={};for(var f in b)f in a&&(d[f]=a[f]+b[f]);return d}for(var f in b)f in a?a[f]+=b[f]:a[f]=b[f];return a},c.Index.prototype.fieldSearchStats=function(a,b,c){for(var d in c)d in a?a[d].push(b):a[d]=[b]},c.Index.prototype.coordNorm=function(a,b,c){for(var d in a)if(d in b){var e=b[d].length;a[d]=a[d]*e/c}return a},c.Index.prototype.toJSON=function(){var a={};return this._fields.forEach(function(b){a[b]=this.index[b].toJSON()},this),{version:c.version,fields:this._fields,ref:this._ref,documentStore:this.documentStore.toJSON(),index:a,pipeline:this.pipeline.toJSON()}},c.Index.prototype.use=function(a){var b=Array.prototype.slice.call(arguments,1);b.unshift(this),a.apply(this,b)},c.DocumentStore=function(a){this._save=null===a||void 0===a||a,this.docs={},this.docInfo={},this.length=0},c.DocumentStore.load=function(a){var b=new this;return b.length=a.length,b.docs=a.docs,b.docInfo=a.docInfo,b._save=a.save,b},c.DocumentStore.prototype.isDocStored=function(){return this._save},c.DocumentStore.prototype.addDoc=function(b,c){this.hasDoc(b)||this.length++,this.docs[b]=!0===this._save?a(c):null},c.DocumentStore.prototype.getDoc=function(a){return!1===this.hasDoc(a)?null:this.docs[a]},c.DocumentStore.prototype.hasDoc=function(a){return a in this.docs},c.DocumentStore.prototype.removeDoc=function(a){this.hasDoc(a)&&(delete this.docs[a],delete this.docInfo[a],this.length--)},c.DocumentStore.prototype.addFieldLength=function(a,b,c){null!==a&&void 0!==a&&0!=this.hasDoc(a)&&(this.docInfo[a]||(this.docInfo[a]={}),this.docInfo[a][b]=c)},c.DocumentStore.prototype.updateFieldLength=function(a,b,c){null!==a&&void 0!==a&&0!=this.hasDoc(a)&&this.addFieldLength(a,b,c)},c.DocumentStore.prototype.getFieldLength=function(a,b){return null===a||void 0===a?0:a in this.docs&&b in this.docInfo[a]?this.docInfo[a][b]:0},c.DocumentStore.prototype.toJSON=function(){return{docs:this.docs,docInfo:this.docInfo,length:this.length,save:this._save}},c.stemmer=function(){var a={ational:'ate',tional:'tion',enci:'ence',anci:'ance',izer:'ize',bli:'ble',alli:'al',entli:'ent',eli:'e',ousli:'ous',ization:'ize',ation:'ate',ator:'ate',alism:'al',iveness:'ive',fulness:'ful',ousness:'ous',aliti:'al',iviti:'ive',biliti:'ble',logi:'log'},e={icate:'ic',ative:'',alize:'al',iciti:'ic',ical:'ic',ful:'',ness:''},j='[aeiouy]',i='[^aeiou]'+'[^aeiouy]*',l=j+'[aeiou]*',q=/^([^aeiou][^aeiouy]*)?[aeiouy][aeiou]*[^aeiou][^aeiouy]*/,c=/^([^aeiou][^aeiouy]*)?[aeiouy][aeiou]*[^aeiou][^aeiouy]*[aeiouy][aeiou]*[^aeiou][^aeiouy]*/,d=/^([^aeiou][^aeiouy]*)?[aeiouy][aeiou]*[^aeiou][^aeiouy]*([aeiouy][aeiou]*)?$/,f=/^([^aeiou][^aeiouy]*)?[aeiouy]/,h=/^(.+?)(ss|i)es$/,p=/^(.+?)([^s])s$/,t=/^(.+?)eed$/,g=/^(.+?)(ed|ing)$/,m=/.$/,o=/(at|bl|iz)$/,r=/([^aeiouylsz])\1$/,v=/^[^aeiou][^aeiouy]*[aeiouy][^aeiouwxy]$/,w=/^(.+?[^aeiou])y$/,x=/^(.+?)(ational|tional|enci|anci|izer|bli|alli|entli|eli|ousli|ization|ation|ator|alism|iveness|fulness|ousness|aliti|iviti|biliti|logi)$/,b=/^(.+?)(icate|ative|alize|iciti|ical|ful|ness)$/,y=/^(.+?)(al|ance|ence|er|ic|able|ible|ant|ement|ment|ent|ou|ism|ate|iti|ous|ive|ize)$/,A=/^(.+?)(s|t)(ion)$/,B=/^(.+?)e$/,C=/ll$/,D=/^[^aeiou][^aeiouy]*[aeiouy][^aeiouwxy]$/;return function(j){var k,i,n,E,s,u,F;if(3>j.length)return j;if(n=j.substr(0,1),'y'==n&&(j=n.toUpperCase()+j.substr(1)),E=h,s=p,E.test(j)?j=j.replace(E,'$1$2'):s.test(j)&&(j=j.replace(s,'$1$2')),E=t,s=g,E.test(j)){var l=E.exec(j);E=q,E.test(l[1])&&(E=m,j=j.replace(E,''))}else if(s.test(j)){var l=s.exec(j);k=l[1],s=f,s.test(k)&&(j=k,s=o,u=r,F=v,s.test(j)?j+='e':u.test(j)?(E=m,j=j.replace(E,'')):F.test(j)&&(j+='e'))}if(E=w,E.test(j)){var l=E.exec(j);k=l[1],j=k+'i'}if(E=x,E.test(j)){var l=E.exec(j);k=l[1],i=l[2],E=q,E.test(k)&&(j=k+a[i])}if(E=b,E.test(j)){var l=E.exec(j);k=l[1],i=l[2],E=q,E.test(k)&&(j=k+e[i])}if(E=y,s=A,E.test(j)){var l=E.exec(j);k=l[1],E=c,E.test(k)&&(j=k)}else if(s.test(j)){var l=s.exec(j);k=l[1]+l[2],s=c,s.test(k)&&(j=k)}if(E=B,E.test(j)){var l=E.exec(j);k=l[1],E=c,s=d,u=D,(E.test(k)||s.test(k)&&!u.test(k))&&(j=k)}return E=C,s=c,E.test(j)&&s.test(j)&&(E=m,j=j.replace(E,'')),'y'==n&&(j=n.toLowerCase()+j.substr(1)),j}}(),c.Pipeline.registerFunction(c.stemmer,'stemmer'),c.stopWordFilter=function(a){return a&&!0!==c.stopWordFilter.stopWords[a]?a:void 0},c.clearStopWords=function(){c.stopWordFilter.stopWords={}},c.addStopWords=function(a){null!=a&&!1!==Array.isArray(a)&&a.forEach(function(a){c.stopWordFilter.stopWords[a]=!0},this)},c.resetStopWords=function(){c.stopWordFilter.stopWords=c.defaultStopWords},c.defaultStopWords={"":!0,a:!0,able:!0,about:!0,across:!0,after:!0,all:!0,almost:!0,also:!0,am:!0,among:!0,an:!0,and:!0,any:!0,are:!0,as:!0,at:!0,be:!0,because:!0,been:!0,but:!0,by:!0,can:!0,cannot:!0,could:!0,dear:!0,did:!0,do:!0,does:!0,either:!0,else:!0,ever:!0,every:!0,for:!0,from:!0,get:!0,got:!0,had:!0,has:!0,have:!0,he:!0,her:!0,hers:!0,him:!0,his:!0,how:!0,however:!0,i:!0,if:!0,in:!0,into:!0,is:!0,it:!0,its:!0,just:!0,least:!0,let:!0,like:!0,likely:!0,may:!0,me:!0,might:!0,most:!0,must:!0,my:!0,neither:!0,no:!0,nor:!0,not:!0,of:!0,off:!0,often:!0,on:!0,only:!0,or:!0,other:!0,our:!0,own:!0,rather:!0,said:!0,say:!0,says:!0,she:!0,should:!0,since:!0,so:!0,some:!0,than:!0,that:!0,the:!0,their:!0,them:!0,then:!0,there:!0,these:!0,they:!0,this:!0,tis:!0,to:!0,too:!0,twas:!0,us:!0,wants:!0,was:!0,we:!0,were:!0,what:!0,when:!0,where:!0,which:!0,while:!0,who:!0,whom:!0,why:!0,will:!0,with:!0,would:!0,yet:!0,you:!0,your:!0},c.stopWordFilter.stopWords=c.defaultStopWords,c.Pipeline.registerFunction(c.stopWordFilter,'stopWordFilter'),c.trimmer=function(a){if(null===a||void 0===a)throw new Error('token should not be undefined');return a.replace(/^\W+/,'').replace(/\W+$/,'')},c.Pipeline.registerFunction(c.trimmer,'trimmer'),c.InvertedIndex=function(){this.root={docs:{},df:0}},c.InvertedIndex.load=function(a){var b=new this;return b.root=a.root,b},c.InvertedIndex.prototype.addToken=function(a,b,c){for(var d,c=c||this.root,e=0;e<=a.length-1;)d=a[e],d in c||(c[d]={docs:{},df:0}),e+=1,c=c[d];var f=b.ref;c.docs[f]?c.docs[f]={tf:b.tf}:(c.docs[f]={tf:b.tf},c.df+=1)},c.InvertedIndex.prototype.hasToken=function(a){if(!a)return!1;for(var b=this.root,c=0;c<a.length;c++){if(!b[a[c]])return!1;b=b[a[c]]}return!0},c.InvertedIndex.prototype.getNode=function(a){if(!a)return null;for(var b=this.root,c=0;c<a.length;c++){if(!b[a[c]])return null;b=b[a[c]]}return b},c.InvertedIndex.prototype.getDocs=function(a){var b=this.getNode(a);return null==b?{}:b.docs},c.InvertedIndex.prototype.getTermFrequency=function(a,b){var c=this.getNode(a);return null==c?0:b in c.docs?c.docs[b].tf:0},c.InvertedIndex.prototype.getDocFreq=function(a){var b=this.getNode(a);return null==b?0:b.df},c.InvertedIndex.prototype.removeToken=function(a,b){if(a){var c=this.getNode(a);null!=c&&b in c.docs&&(delete c.docs[b],c.df-=1)}},c.InvertedIndex.prototype.expandToken=function(a,b,c){if(null==a||''==a)return[];var b=b||[];if(void 0==c&&(c=this.getNode(a),null==c))return b;for(var d in 0<c.df&&b.push(a),c)'docs'!==d&&'df'!==d&&this.expandToken(a+d,b,c[d]);return b},c.InvertedIndex.prototype.toJSON=function(){return{root:this.root}},c.Configuration=function(a,b){var a=a||'';if(void 0==b||null==b)throw new Error('fields should not be null');this.config={};var d;try{d=JSON.parse(a),this.buildUserConfig(d,b)}catch(a){c.utils.warn('user configuration parse failed, will use default configuration'),this.buildDefaultConfig(b)}},c.Configuration.prototype.buildDefaultConfig=function(a){this.reset(),a.forEach(function(a){this.config[a]={boost:1,bool:'OR',expand:!1}},this)},c.Configuration.prototype.buildUserConfig=function(a,b){var d='OR',e=!1;if(this.reset(),'bool'in a&&(d=a.bool||d),'expand'in a&&(e=a.expand||e),'fields'in a){for(var f in a.fields)if(-1<b.indexOf(f)){var g=a.fields[f],h=e;void 0!=g.expand&&(h=g.expand),this.config[f]={boost:g.boost||0===g.boost?g.boost:1,bool:g.bool||d,expand:h}}else c.utils.warn('field name in user configuration not found in index instance fields');}else this.addAllFields2UserConfig(d,e,b)},c.Configuration.prototype.addAllFields2UserConfig=function(a,b,c){c.forEach(function(c){this.config[c]={boost:1,bool:a,expand:b}},this)},c.Configuration.prototype.get=function(){return this.config},c.Configuration.prototype.reset=function(){this.config={}},lunr.SortedSet=function(){this.length=0,this.elements=[]},lunr.SortedSet.load=function(a){var b=new this;return b.elements=a,b.length=a.length,b},lunr.SortedSet.prototype.add=function(){var a,b;for(a=0;a<arguments.length;a++)b=arguments[a],~this.indexOf(b)||this.elements.splice(this.locationFor(b),0,b);this.length=this.elements.length},lunr.SortedSet.prototype.toArray=function(){return this.elements.slice()},lunr.SortedSet.prototype.map=function(a,b){return this.elements.map(a,b)},lunr.SortedSet.prototype.forEach=function(a,b){return this.elements.forEach(a,b)},lunr.SortedSet.prototype.indexOf=function(a){for(var c=0,d=this.elements.length,e=d-c,f=c+b(e/2),g=this.elements[f];1<e;){if(g===a)return f;a>g&&(c=f),g>a&&(d=f),e=d-c,f=c+b(e/2),g=this.elements[f]}return g===a?f:-1},lunr.SortedSet.prototype.locationFor=function(a){for(var c=0,d=this.elements.length,e=d-c,f=c+b(e/2),g=this.elements[f];1<e;)a>g&&(c=f),g>a&&(d=f),e=d-c,f=c+b(e/2),g=this.elements[f];return g>a?f:a>g?f+1:void 0},lunr.SortedSet.prototype.intersect=function(a){for(var b=new lunr.SortedSet,c=0,d=0,e=this.length,f=a.length,g=this.elements,h=a.elements;;){if(c>e-1||d>f-1)break;g[c]===h[d]?(b.add(g[c]),c++,d++):g[c]<h[d]?c++:g[c]>h[d]&&d++}return b},lunr.SortedSet.prototype.clone=function(){var a=new lunr.SortedSet;return a.elements=this.toArray(),a.length=a.elements.length,a},lunr.SortedSet.prototype.union=function(a){var b,c,d;this.length>=a.length?(b=this,c=a):(b=a,c=this),d=b.clone();for(var e=0,f=c.toArray();e<f.length;e++)d.add(f[e]);return d},lunr.SortedSet.prototype.toJSON=function(){return this.toArray()},function(a,b){'function'==typeof define&&define.amd?define(b):'object'==typeof exports?module.exports=b():a.elasticlunr=b()}(this,function(){return c})}(),RegExp.escape=function(a){return a.replace(/[-\/\\^$*+?.()|[\]{}]/g,'\\$&')},function(){'use strict';var a;a='undefined'!=typeof jQuery&&jQuery?jQuery:{},a.csv={defaults:{separator:',',delimiter:'"',headers:!0},hooks:{castToScalar:function(a){var b=/\./;if(isNaN(a))return a;if(b.test(a))return parseFloat(a);var c=parseInt(a);return isNaN(c)?null:c}},parsers:{parse:function(a,b){function c(){if(i=0,j='',b.start&&b.state.rowNum<b.start)return h=[],b.state.rowNum++,void(b.state.colNum=1);if(void 0===b.onParseEntry)g.push(h);else{var a=b.onParseEntry(h,b.state);!1!==a&&g.push(a)}h=[],b.end&&b.state.rowNum>=b.end&&(k=!0),b.state.rowNum++,b.state.colNum=1}function d(){if(void 0===b.onParseValue)h.push(j);else{var a=b.onParseValue(j,b.state);!1!==a&&h.push(a)}j='',i=0,b.state.colNum++}var e=b.separator,f=b.delimiter;b.state.rowNum||(b.state.rowNum=1),b.state.colNum||(b.state.colNum=1);var g=[],h=[],i=0,j='',k=!1,l=RegExp.escape(e),m=RegExp.escape(f),n=/(D|S|\r\n|\n|\r|[^DS\r\n]+)/,o=n.source;return o=o.replace(/S/g,l),o=o.replace(/D/g,m),n=new RegExp(o,'gm'),a.replace(n,function(a){if(!k)switch(i){case 0:if(a===e){j+='',d();break}if(a===f){i=1;break}if(/^(\r\n|\n|\r)$/.test(a)){d(),c();break}j+=a,i=3;break;case 1:if(a===f){i=2;break}j+=a,i=1;break;case 2:if(a===f){j+=a,i=1;break}if(a===e){d();break}if(/^(\r\n|\n|\r)$/.test(a)){d(),c();break}throw new Error('CSVDataError: Illegal State [Row:'+b.state.rowNum+'][Col:'+b.state.colNum+']');case 3:if(a===e){d();break}if(/^(\r\n|\n|\r)$/.test(a)){d(),c();break}if(a===f)throw new Error('CSVDataError: Illegal Quote [Row:'+b.state.rowNum+'][Col:'+b.state.colNum+']');throw new Error('CSVDataError: Illegal Data [Row:'+b.state.rowNum+'][Col:'+b.state.colNum+']');default:throw new Error('CSVDataError: Unknown State [Row:'+b.state.rowNum+'][Col:'+b.state.colNum+']');}}),0!==h.length&&(d(),c()),g},splitLines:function(a,b){function c(){if(g=0,b.start&&b.state.rowNum<b.start)return h='',void b.state.rowNum++;if(void 0===b.onParseEntry)f.push(h);else{var a=b.onParseEntry(h,b.state);!1!==a&&f.push(a)}h='',b.end&&b.state.rowNum>=b.end&&(i=!0),b.state.rowNum++}var d=b.separator,e=b.delimiter;b.state.rowNum||(b.state.rowNum=1);var f=[],g=0,h='',i=!1,j=RegExp.escape(d),k=RegExp.escape(e),l=/(D|S|\n|\r|[^DS\r\n]+)/,m=l.source;return m=m.replace(/S/g,j),m=m.replace(/D/g,k),l=new RegExp(m,'gm'),a.replace(l,function(a){if(!i)switch(g){case 0:if(a===d){h+=a,g=0;break}if(a===e){h+=a,g=1;break}if('\n'===a){c();break}if(/^\r$/.test(a))break;h+=a,g=3;break;case 1:if(a===e){h+=a,g=2;break}h+=a,g=1;break;case 2:var f=h.substr(h.length-1);if(a===e&&f===e){h+=a,g=1;break}if(a===d){h+=a,g=0;break}if('\n'===a){c();break}if('\r'===a)break;throw new Error('CSVDataError: Illegal state [Row:'+b.state.rowNum+']');case 3:if(a===d){h+=a,g=0;break}if('\n'===a){c();break}if('\r'===a)break;if(a===e)throw new Error('CSVDataError: Illegal quote [Row:'+b.state.rowNum+']');throw new Error('CSVDataError: Illegal state [Row:'+b.state.rowNum+']');default:throw new Error('CSVDataError: Unknown state [Row:'+b.state.rowNum+']');}}),''!==h&&c(),f},parseEntry:function(a,b){function c(){if(void 0===b.onParseValue)f.push(h);else{var a=b.onParseValue(h,b.state);!1!==a&&f.push(a)}h='',g=0,b.state.colNum++}var d=b.separator,e=b.delimiter;b.state.rowNum||(b.state.rowNum=1),b.state.colNum||(b.state.colNum=1);var f=[],g=0,h='';if(!b.match){var i=RegExp.escape(d),j=RegExp.escape(e),k=/(D|S|\n|\r|[^DS\r\n]+)/,l=k.source;l=l.replace(/S/g,i),l=l.replace(/D/g,j),b.match=new RegExp(l,'gm')}return a.replace(b.match,function(a){switch(g){case 0:if(a===d){h+='',c();break}if(a===e){g=1;break}if('\n'===a||'\r'===a)break;h+=a,g=3;break;case 1:if(a===e){g=2;break}h+=a,g=1;break;case 2:if(a===e){h+=a,g=1;break}if(a===d){c();break}if('\n'===a||'\r'===a)break;throw new Error('CSVDataError: Illegal State [Row:'+b.state.rowNum+'][Col:'+b.state.colNum+']');case 3:if(a===d){c();break}if('\n'===a||'\r'===a)break;if(a===e)throw new Error('CSVDataError: Illegal Quote [Row:'+b.state.rowNum+'][Col:'+b.state.colNum+']');throw new Error('CSVDataError: Illegal Data [Row:'+b.state.rowNum+'][Col:'+b.state.colNum+']');default:throw new Error('CSVDataError: Unknown State [Row:'+b.state.rowNum+'][Col:'+b.state.colNum+']');}}),c(),f}},helpers:{collectPropertyNames:function(a){var b,c,d=[];for(b in a)for(c in a[b])a[b].hasOwnProperty(c)&&0>d.indexOf(c)&&'function'!=typeof a[b][c]&&d.push(c);return d}},toArray:function(b,c,d){c=c===void 0?{}:c;var e={callback:d!==void 0&&'function'==typeof d&&d,separator:'separator'in c?c.separator:a.csv.defaults.separator,delimiter:'delimiter'in c?c.delimiter:a.csv.defaults.delimiter},f=c.state===void 0?{}:c.state;c={delimiter:e.delimiter,separator:e.separator,onParseEntry:c.onParseEntry,onParseValue:c.onParseValue,state:f};var g=a.csv.parsers.parseEntry(b,c);return e.callback?void e.callback('',g):g},toArrays:function(b,c,d){c=void 0===c?{}:c;var e={callback:void 0!==d&&'function'==typeof d&&d,separator:'separator'in c?c.separator:a.csv.defaults.separator,delimiter:'delimiter'in c?c.delimiter:a.csv.defaults.delimiter},f=[];return c={delimiter:e.delimiter,separator:e.separator,onPreParse:c.onPreParse,onParseEntry:c.onParseEntry,onParseValue:c.onParseValue,onPostParse:c.onPostParse,start:c.start,end:c.end,state:{rowNum:1,colNum:1}},void 0!==c.onPreParse&&c.onPreParse(b,c.state),f=a.csv.parsers.parse(b,c),void 0!==c.onPostParse&&c.onPostParse(f,c.state),e.callback?void e.callback('',f):f},toObjects:function(b,c,d){c=void 0===c?{}:c;var e={};e.callback=void 0!==d&&'function'==typeof d&&d,e.separator='separator'in c?c.separator:a.csv.defaults.separator,e.delimiter='delimiter'in c?c.delimiter:a.csv.defaults.delimiter,e.headers='headers'in c?c.headers:a.csv.defaults.headers,c.start='start'in c?c.start:1,e.headers&&c.start++,c.end&&e.headers&&c.end++;var f=[],g=[];c={delimiter:e.delimiter,separator:e.separator,onPreParse:c.onPreParse,onParseEntry:c.onParseEntry,onParseValue:c.onParseValue,onPostParse:c.onPostParse,start:c.start,end:c.end,state:{rowNum:1,colNum:1},match:!1,transform:c.transform};var h={delimiter:e.delimiter,separator:e.separator,start:1,end:1,state:{rowNum:1,colNum:1}};void 0!==c.onPreParse&&c.onPreParse(b,c.state);var k=a.csv.parsers.splitLines(b,h),l=a.csv.toArray(k[0],c);f=a.csv.parsers.splitLines(b,c),c.state.colNum=1,c.state.rowNum=l?2:1;for(var m=0,i=f.length;m<i;m++){for(var n=a.csv.toArray(f[m],c),o={},p=0;p<l.length;p++)o[l[p]]=n[p];void 0===c.transform?g.push(o):g.push(c.transform.call(void 0,o)),c.state.rowNum++}return void 0!==c.onPostParse&&c.onPostParse(g,c.state),e.callback?void e.callback('',g):g},fromArrays:function(b,c,d){c=c===void 0?{}:c;var e,f,g,h,i={callback:d!==void 0&&'function'==typeof d&&d,separator:'separator'in c?c.separator:a.csv.defaults.separator,delimiter:'delimiter'in c?c.delimiter:a.csv.defaults.delimiter},j='';for(g=0;g<b.length;g++){for(e=b[g],f=[],h=0;h<e.length;h++){var k=e[h]===void 0||null===e[h]?'':e[h].toString();-1<k.indexOf(i.delimiter)&&(k=k.replace(new RegExp(i.delimiter,'g'),i.delimiter+i.delimiter));var l='\n|\r|S|D';l=l.replace('S',i.separator),l=l.replace('D',i.delimiter),-1<k.search(l)&&(k=i.delimiter+k+i.delimiter),f.push(k)}j+=f.join(i.separator)+'\r\n'}return i.callback?void i.callback('',j):j},fromObjects:function(b,c,d){c=void 0===c?{}:c;var e={};if(e.callback=void 0!==d&&'function'==typeof d&&d,e.separator='separator'in c?c.separator:a.csv.defaults.separator,e.delimiter='delimiter'in c?c.delimiter:a.csv.defaults.delimiter,e.headers='headers'in c?c.headers:a.csv.defaults.headers,e.sortOrder='sortOrder'in c?c.sortOrder:'declare',e.manualOrder='manualOrder'in c?c.manualOrder:[],e.transform=c.transform,'string'==typeof e.manualOrder&&(e.manualOrder=a.csv.toArray(e.manualOrder,e)),void 0!==e.transform){var f=b;b=[];var g;for(g=0;g<f.length;g++)b.push(e.transform.call(void 0,f[g]))}var h=a.csv.helpers.collectPropertyNames(b);if('alpha'===e.sortOrder&&h.sort(),0<e.manualOrder.length){var i,j=[].concat(e.manualOrder);for(i=0;i<h.length;i++)0>j.indexOf(h[i])&&j.push(h[i]);h=j}var k,i,l,m,n=[];for(e.headers&&n.push(h),k=0;k<b.length;k++){for(l=[],i=0;i<h.length;i++)m=h[i],m in b[k]&&'function'!=typeof b[k][m]?l.push(b[k][m]):l.push('');n.push(l)}return a.csv.fromArrays(n,c,e.callback)}},a.csvEntry2Array=a.csv.toArray,a.csv2Array=a.csv.toArrays,a.csv2Dictionary=a.csv.toObjects,'undefined'!=typeof module&&module.exports&&(module.exports=a.csv)}.call(this);var search,results,allBooks=[],indexOndataset_temaCheckbox=document.getElementById('indexOndataset_temaCheckbox'),indexStrategySelect=document.getElementById('indexStrategySelect'),removeStopWordsCheckbox=document.getElementById('removeStopWordsCheckbox'),indexOnserie_descripcionCheckbox=document.getElementById('indexOnserie_descripcionCheckbox'),useStemmingCheckbox=document.getElementById('useStemmingCheckbox'),sanitizerSelect=document.getElementById('sanitizerSelect'),tfIdfRankingCheckbox=document.getElementById('tfIdfRankingCheckbox'),rebuildAndRerunSearch=function(){rebuildSearchIndex(),searchBooks()};indexOndataset_temaCheckbox.onchange=rebuildAndRerunSearch,indexStrategySelect.onchange=rebuildAndRerunSearch,removeStopWordsCheckbox.onchange=rebuildAndRerunSearch,indexOnserie_descripcionCheckbox.onchange=rebuildAndRerunSearch,useStemmingCheckbox.onchange=rebuildAndRerunSearch,sanitizerSelect.onchange=rebuildAndRerunSearch,tfIdfRankingCheckbox.onchange=rebuildAndRerunSearch;var rebuildSearchIndex=function(){search=new JsSearch.Search('serie_id'),useStemmingCheckbox.checked&&(search.tokenizer=new JsSearch.StemmingTokenizer(stemmer,search.tokenizer)),removeStopWordsCheckbox.checked&&(search.tokenizer=new JsSearch.StopWordsTokenizer(search.tokenizer)),search.indexStrategy=eval('new '+indexStrategySelect.value+'()'),search.sanitizer=eval('new '+sanitizerSelect.value+'()');search.searchIndex=tfIdfRankingCheckbox.checked?new JsSearch.TfIdfSearchIndex('serie_id'):new JsSearch.UnorderedSearchIndex,indexOnserie_descripcionCheckbox.checked&&search.addIndex('serie_descripcion'),indexOndataset_temaCheckbox.checked&&search.addIndex('dataset_tema'),search.addDocuments(allBooks)},indexedBooksTable=document.getElementById('indexedBooksTable'),indexedBooksTBody=indexedBooksTable.tBodies[0],searchInput=document.getElementById('searchInput'),bookCountBadge=document.getElementById('bookCountBadge'),updateBooksTable=function(a){indexedBooksTBody.innerHTML='';for(var b=search.tokenizer.tokenize(searchInput.value),c=0,d=a.length;c<d;c++){var e=a[c],f=document.createElement('td');f.innerText=e.serie_id;var g=document.createElement('td');g.innerHTML=e.serie_descripcion;var h=document.createElement('td');h.innerHTML=e.dataset_tema;var i=document.createElement('tr');i.appendChild(f),i.appendChild(g),i.appendChild(h),indexedBooksTBody.appendChild(i)}},updateBookCountAndTable=function(){updateBookCount(results.length),0<results.length?updateBooksTable(results):!searchInput.value?(updateBookCount(allBooks.length),updateBooksTable(allBooks)):updateBooksTable([])},searchBooks=function(){results=search.search(searchInput.value),updateBookCountAndTable()};searchInput.oninput=searchBooks;var updateBookCount=function(a){bookCountBadge.innerText=a+' books'},hideElement=function(a){a.className+=' hidden'},showElement=function(a){a.className=a.className.replace(/\s*hidden/,'')};function filter_function(a){return'Actividad'==a.dataset_tema}$(function(){var a;$.ajax({type:'GET',url:'./public/data/series-tiempo-metadatos.csv',dataType:'text',success:function(b){a=$.csv.toObjects(b),allBooks=a.filter(filter_function),updateBookCount(allBooks.length);var c=document.getElementById('loadingProgressBar');hideElement(c),showElement(indexedBooksTable),rebuildSearchIndex(),updateBooksTable(allBooks)}})});